<!--begin::Menu wrapper-->
<div id="kt_app_sidebar_menu_scroll" class="scroll-y my-5 mx-3" data-kt-scroll="true" data-kt-scroll-activate="true"
  data-kt-scroll-height="auto" data-kt-scroll-dependencies="#kt_app_sidebar_logo, #kt_app_sidebar_footer"
  data-kt-scroll-wrappers="#kt_app_sidebar_menu" data-kt-scroll-offset="5px" data-kt-scroll-save-state="true">
  <!--begin::Menu-->
  <div class="menu menu-column menu-rounded menu-sub-indention fw-semibold fs-6" id="#kt_app_sidebar_menu"
    data-kt-menu="true" data-kt-menu-expand="false">
    <!-- Dashboard -->

    <div class="menu-item" *ngIf="hasPermission('Dashboard')">
      <a class="menu-link without-sub" routerLink="/dashboard" routerLinkActive="active">
        <span class="menu-bullet">
          <app-keenicon name="element-11"></app-keenicon>
        </span>
        <span class="menu-title" style="font-size: 13.975px;" translate="MENU.DASHBOARD"></span>
      </a>
    </div>
    <div class="menu-item" *ngIf="hasPermission('Summary Dashboard')">
      <a class="menu-link without-sub" routerLinkActive="active"
         routerLink="/summary-engine">
        <span class="menu-bullet">
          <i class="bi bi-file-bar-graph"></i>
        </span>
        <span class="menu-title">Summary Dashboard</span>
      </a>
    </div>

    <div class="menu-item" *ngIf="hasPermission('Project')">
      <a class="menu-link without-sub" routerLink="/project-dashboard" routerLinkActive="active">
        <!-- <span class="menu-bullet">
          <app-keenicon name="ki-duotone ki-abstract-26"></app-keenicon>
        </span> -->
        <span class="menu-bullet">
          <i class="fa-solid fa-cube"></i>
        </span>
        <span class="menu-title" style="font-size: 13.975px;">Project</span>
      </a>
    </div>


    <!-- Layout builder -->

    <div class="menu-item" *ngIf="hasPermission('Dream Board')">
      <a class="menu-link without-sub" routerLink="/dreamboard" routerLinkActive="active">
        <span class="menu-bullet">
          <app-keenicon name="bi bi-hypnotize"></app-keenicon>
        </span>
        <span class="menu-title" style="font-size: 13.975px;">Dream Board</span>
      </a>
      </div>

<div *ngIf="hasPermission('Modules')">
      <div class="menu-item menu-accordion" *ngFor="let item of menuItems"
        [attr.data-kt-menu-trigger]="item.subMenu?.length ? 'click' : null" routerLinkActive="here show">
        <span class="menu-link">
          <span class="menu-bullet">
            <app-keenicon [name]="item.icon ?? 'default-icon'"></app-keenicon>
          </span>
          <span class="menu-title">{{ item.title }}</span>
          <span *ngIf="item.subMenu?.length" class="menu-arrow"></span>
        </span>


        <div class="menu-sub menu-sub-accordion" *ngIf="item.subMenu?.length" routerLinkActive="menu-active-bg">
          <div class="menu-item menu-accordion" *ngFor="let subItem of item.subMenu ?? []"
            [attr.data-kt-menu-trigger]="subItem.subMenu?.length ? 'click' : null" routerLinkActive="here show">


            <span class="menu-link" *ngIf="!subItem.subMenu?.length" [routerLink]="subItem.link">
              <span class="menu-bullet"><span class="bullet bullet-dot"></span></span>
              <span class="menu-title">{{ subItem.title }}</span>
            </span>


            <span class="menu-link" *ngIf="subItem.subMenu?.length">
              <span class="menu-bullet"><span class="bullet bullet-dot"></span></span>
              <span class="menu-title">{{ subItem.title }}</span>
              <span class="menu-arrow"></span>
            </span>


            <div class="menu-sub menu-sub-accordion" *ngIf="subItem.subMenu?.length" routerLinkActive="menu-active-bg">
              <div class="menu-item" *ngFor="let nestedItem of subItem.subMenu ?? []">
                <a class="menu-link without-sub" routerLinkActive="active" [routerLink]="nestedItem.link">
                  <span class="menu-bullet"><span class="bullet bullet-dot"></span></span>
                  <span class="menu-title">{{ nestedItem.title }}</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- </div> -->

    <!-- Separator -->
    <div class="menu-item" *ngIf="hasAnyConfigurationPermission()">
      <div class="menu-content pt-8 pb-2">
        <span class="menu-section text-muted text-uppercase fs-8 ls-1">Configurations</span>
      </div>
    </div>

    <div class="menu-item"  *ngIf="hasPermission('Report Studio')">
      <a class="menu-link without-sub" routerLinkActive="active"
         routerLink="/reportStudio">
        <span class="menu-bullet">
          <!-- <app-keenicon name="profile-circle" ></app-keenicon> -->
          <i class="fa-solid fa-square-poll-vertical fs-2"></i>
        </span>
        <span class="menu-title">Report Studio</span>
      </a>
    </div>


    <div class="menu-item" *ngIf="hasPermission('Communication')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/Communication">
        <span class="menu-bullet">
          <i class="bi bi-send-fill"></i>
        </span>
        <span class="menu-title">Communication</span>
      </a>
    </div>


    <div class="menu-item" *ngIf="hasPermission('Notification Matrix')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/escalation">
        <span class="menu-bullet">
          <i class="bi bi-envelope-exclamation-fill"></i>
        </span>
        <span class="menu-title">Escalation Matrix</span>
      </a>
    </div>


    <div class="menu-item" *ngIf="hasPermission('Client')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/client">
        <span class="menu-bullet">
          <i class="bi bi-person-lines-fill"></i>
        </span>
        <span class="menu-title">Client</span>
      </a>
    </div>

    <div class="menu-item" *ngIf="hasPermission('Company')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/company">
        <span class="menu-bullet">
          <i class="bi bi-building"></i>
        </span>
        <span class="menu-title">Company</span>
      </a>
    </div>


    <div class="menu-item" *ngIf="hasPermission('User Management')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/manage-user">
        <span class="menu-bullet">
          <app-keenicon name="profile-circle" class="fs-2"></app-keenicon>
        </span>
        <span class="menu-title">User Management</span>
      </a>
    </div>


    <div class="menu-item" *ngIf="hasPermission('Permission')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/permission">
        <span class="menu-bullet">
          <i class="bi bi-shield-lock-fill"></i>
        </span>
        <span class="menu-title">Permissions</span>
      </a>
    </div>
    <div class="menu-item" *ngIf="hasPermission('Form Group')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/formgroup">
        <span class="menu-bullet">
          <i class="fas fa-file-alt"></i>
        </span>
        <span class="menu-title">Form Group</span>
      </a>
    </div>

    <div class="menu-item menu-accordion" data-kt-menu-trigger="click" routerLinkActive="here show"
      *ngIf="hasPermission('Project Configuration')">
      <span class="menu-link">
        <span class="menu-bullet">
          <!-- <app-keenicon name="profile-circle" class="fs-2"></app-keenicon> -->
          <i class="fa-solid fa-wand-sparkles"></i>

        </span>
        <span class="menu-title" data-link="/Project Configuration">Project Configuration
        </span>
        <span class="menu-arrow"></span>
      </span>
      <div class="menu-sub menu-sub-accordion" routerLinkActive="menu-active-bg">
        <div class="menu-item">
          <a class="menu-link without-sub" routerLinkActive="active" routerLink="/Project Configuration/project">
            <span class="menu-bullet">
              <span class="bullet bullet-dot"></span>
            </span>
            <span class="menu-title">Project
            </span>
          </a>
        </div>
      </div>
      <div class="menu-sub menu-sub-accordion" routerLinkActive="menu-active-bg">
        <div class="menu-item">
          <a class="menu-link without-sub" routerLinkActive="active"
            routerLink="/Project Configuration/folder-configuration">
            <span class="menu-bullet">
              <span class="bullet bullet-dot"></span>
            </span>
            <span class="menu-title">Project Group
            </span>
          </a>
        </div>
      </div>
      <div class="menu-sub menu-sub-accordion" routerLinkActive="menu-active-bg">
        <div class="menu-item">
          <a class="menu-link without-sub" routerLinkActive="active"
            routerLink="/Project Configuration/project-template">
            <span class="menu-bullet">
              <span class="bullet bullet-dot"></span>
            </span>
            <span class="menu-title">Project Template
            </span>
          </a>
        </div>
      </div>
    </div>

    <div class="menu-item" *ngIf="hasPermission('Location Management')">
      <a class="menu-link without-sub" routerLinkActive="active" routerLink="/location-management">
        <span class="menu-bullet">
          <i class="bi bi-geo-fill"></i> <!-- Changed to location icon -->
        </span>
        <span class="menu-title">Location Management</span>
      </a>
    </div>

   
  </div>
  <!--end::Menu-->
  <!-- </div> -->
  <!--end::Menu wrapper-->